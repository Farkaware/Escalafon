<!DOCTYPE HTML>
<html>
<meta charset="UTF-8">
<head>
<title>Escalaf&#243;n - Dificil</title>
<style>
            body {
            	background-image:url('papiro.jpg')
		  }

		  #ccontainer{
		  width:1150px;
          position: relative;
		  margin: 405px;
		  margin-top:200px;
		  }
</style>
<script>
window.onload = function(){
var canvas = document.getElementById("myCanvas");
var context = canvas.getContext("2d");
var quizbg = new Image();
var Question = new String;
var Option1 = new String;
var Option2 = new String;
var Option3 = new String;
var my=0;
var CorrectAnswer = 0;
var qnumber = 0;
var rightanswers=0;
var wronganswers=0;
var QuizFinished = false;
var lock = false;                 
var textpos1=45;
var textpos2=150;
var textpos3=235;
var textpos4=320;
var Questions = ["El derecho objetivo hace referencia a","El derecho administrativo","Conjunto de normas juridicas que regula el procedimiento ante la justicia","Un contrato puede o debe ser celebrado por","En un contrato de locacion de obra los sujetos reciben el nombre de","Cuando los representantes legales se exceden en sus funciones","En una asociacion civil el organo deliberativo...","La tipicidad es una caracteristica de las","Las sociedades comerciales irregulares","La iglesia Catolica es...","La LCT protege al empleo","La subordinacion se manifiesta en un triple sentido","El principio de idoneidad hace referencia a","Norma laboral que surge por decision de un tercero","El despido con justa causa es"];
var Options = [["Las normas juridicas y la sociedad","Los derechos que cada persona en particual tiene","Ninguna de las anteriores"] , ["Regula la relacion entre la administracion publica y los ciudadanos","Describe delitos y establece penas","Regula la relacion entre comerciantes"] , ["Derecho procesal","Derecho penal","Derecho civil"] , ["Dos o mas personas","Una sola persona","Mas de dos personas"] , ["Locador y locatario","Obrero y contratante","Comprador y vendedor"] , ["Se hace responsable personalmente","Se hace responsable a la persona juridica privada","Ambos son responsables"] , ["Ambas son correctas","Decide el funcionamiento de la organizacion","Decide el futuro de la organizacion"] , ["Sociedades comerciales","Sociedades civiles","Fundaciones"] , ["Adoptan un tipo previsto por la ley pero no se inscriben","Adoptan un tipo previsto por la ley y se inscriben","No adpotan un tipo previsto por la ley ni se inscriben"] , ["Una persona juridica publica","Una asociacion civil","Una fundacion"] , ["En relacion de dependencia","Familiar, domestico, autonomo","Publico"] , ["Tecnico, economico y juridico","Juridico, economico y politico","Independiente, economico y politico"] , ["Los requisitos y condiciones que tiene que poseer una persona","Preservar al empleado publico de los vaivenes de la politica","A la igualdad en el acceso a la funcion publica"] , ["Laudo","Convenio colectivo de trabajo","Estatuto Profesional"] , ["Por una injuria del empleado","Impuesto por el empleador sin motivo alguno","Por una injuria del empleador"]];
quizbg.onload = function(){
context.drawImage(quizbg, 0, 0);
SetQuestions();
}//quizbg
quizbg.src = "quizbg.png";
SetQuestions = function(){
Question= Questions[qnumber];
CorrectAnswer=1+Math.floor(Math.random()*3);
if(CorrectAnswer==1){Option1=Options[qnumber][0];Option2=Options[qnumber][1];Option3=Options[qnumber][2];}                                                  
if(CorrectAnswer==2){Option1=Options[qnumber][2];Option2=Options[qnumber][0];Option3=Options[qnumber][1];}
if(CorrectAnswer==3){Option1=Options[qnumber][1];Option2=Options[qnumber][2];Option3=Options[qnumber][0];}
context.textBaseline = "middle";
context.font = "22pt Comic Sans MS,Arial";
context.fillText(Question,80,textpos1);
context.font = "18pt Comic Sans MS,Arial";
context.fillText(Option1,80,textpos2);
context.fillText(Option2,80,textpos3);
context.fillText(Option3,80,textpos4);
}//SetQuestions
canvas.addEventListener('click',ProcessClick,false);
function ProcessClick(ev) {                 
my=ev.y-canvas.offsetTop; 
if(ev.y == undefined){
my = ev.pageY - canvas.offsetTop; 
}
if(lock){ 
ResetQ();
}//if lock 
else{
if(my>300 && my<370){GetFeedback(1);} 
if(my>390 && my<460){GetFeedback(2);}
if(my>480 && my<550){GetFeedback(3);} 
}//!lock
}//ProcessClick
GetFeedback = function(a){ 
if(a==CorrectAnswer){ 
context.drawImage(quizbg, 0,400,75,70,1060,115+(85*(a-1)),75,70);
rightanswers++; 
}              
else{ 
context.drawImage(quizbg, 75,400,75,70,1060,115+(85*(a-1)),75,70);
wronganswers++; 
}
context.font = "14pt Comic Sans MS,Arial"; 
context.fillText("Clickea de nuevo para continuar.",20,380);
lock=true; 
}//get feedback
ResetQ= function(){ 
lock=false;
context.clearRect(0,0,550,400); 
qnumber++;
if(qnumber==Questions.length){EndQuiz();} 
else{
context.drawImage(quizbg, 0, 0); 
SetQuestions();}
}
var quizres = new Image();
quizres.src = "quizres.png";
quizres.onload = function(){
context.drawResult(quizres, 0, 0);
}//quizres
EndQuiz=function(){ 
canvas.removeEventListener('click',ProcessClick,false);
context.drawImage(quizres, 0,0,1150,470,0,-3,1155,480); 
context.font = "20pt Comic Sans MS,Arial";
context.fillText("Has completado la dificultad!",80,100); 
context.font = "16pt Comic Sans MS,Arial";
context.fillText("Puntaje positivo: "+(10*+String(rightanswers)),80,200); 
context.fillText("Puntaje negativo: "+(3*+String(wronganswers)),80,240);
context.fillText("Puntaje Final: "+((10*+String(rightanswers))-(3*+String(wronganswers))),80,280);
}
};//windowonload
</script>
</head>
<body>
<div id="ccontainer"> <canvas id="myCanvas" width="1150" height="400"> </canvas> </div>
</body>
</html>